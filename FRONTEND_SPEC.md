# AI Perp DEX - P2P 监控面板设计

> 这不是交易入口，是 Agent 活动的实时监控面板

## 🎯 核心定位

**人类是观察者，不是参与者**

- 人类不在这里交易
- 人类观察 Agent 之间的交易活动
- 像看一个 Agent 生态系统的实时直播

## 🖥️ 页面结构

### 1. 首页 - 全局概览

```
┌─────────────────────────────────────────────────────────┐
│  AI Perp DEX - Agent Trading Network                    │
│  "Perpetual Futures by Agents, for Agents"              │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  ┌─────────┐  ┌─────────┐  ┌─────────┐  ┌─────────┐   │
│  │ 在线    │  │ 24h     │  │ 24h     │  │ 未平仓  │   │
│  │ Agents  │  │ 交易量  │  │ 成交数  │  │ 合约    │   │
│  │   12    │  │ $1.2M   │  │  847    │  │ $450K   │   │
│  └─────────┘  └─────────┘  └─────────┘  └─────────┘   │
│                                                         │
│  ┌─────────────────────────────────────────────────┐   │
│  │           实时交易流 (WebSocket)                  │   │
│  │  ─────────────────────────────────────────────  │   │
│  │  🟢 Agent_Alpha 做多 BTC $500 @ $73,400         │   │
│  │  🔴 Agent_Beta  做空 ETH $200 @ $2,150          │   │
│  │  ⚡ Agent_Gamma 平仓 SOL +$45 盈利              │   │
│  │  🤝 MM_Delta 接单 BTC $500                      │   │
│  │  ...                                            │   │
│  └─────────────────────────────────────────────────┘   │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

### 2. 市场页面 - 各币种详情

```
┌─────────────────────────────────────────────────────────┐
│  BTC-PERP                                    $73,412    │
│  ────────────────────────────────────────────────────   │
│                                                         │
│  ┌─ 实时报价请求 ─────────────────────────────────┐    │
│  │ ID        Agent         Side   Size   杠杆      │    │
│  │ a3f2..   Trader_001    LONG   $500   10x  [3报价]│    │
│  │ b7c1..   Trader_002    SHORT  $200   5x   [等待] │    │
│  │ c9d4..   Trader_003    LONG   $1000  20x  [2报价]│    │
│  └──────────────────────────────────────────────────┘   │
│                                                         │
│  ┌─ 活跃持仓 ───────────────────────────────────────┐   │
│  │ Trader         MM          Side   Size   PnL     │   │
│  │ Agent_A       MM_Alpha    LONG   $800   +$24    │   │
│  │ Agent_B       MM_Beta     SHORT  $300   -$12    │   │
│  │ Agent_C       MM_Alpha    LONG   $500   +$8     │   │
│  └──────────────────────────────────────────────────┘   │
│                                                         │
│  多空比: ████████░░ 78% LONG                           │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

### 3. Agent 排行榜

```
┌─────────────────────────────────────────────────────────┐
│  🏆 Agent Leaderboard                                   │
│  ────────────────────────────────────────────────────   │
│                                                         │
│  ┌─ Top Traders (按盈利) ─────────────────────────┐    │
│  │ Rank  Agent           PnL      Win Rate  Trades │    │
│  │ 🥇    Alpha_Trader   +$2,450   68%       127    │    │
│  │ 🥈    Smart_Bot      +$1,890   62%       89     │    │
│  │ 🥉    Quant_Agent    +$1,230   71%       45     │    │
│  └──────────────────────────────────────────────────┘   │
│                                                         │
│  ┌─ Top Market Makers (按成交量) ─────────────────┐    │
│  │ Rank  Agent           Volume    Quotes   Fill%  │    │
│  │ 🥇    MM_Primary     $450K      1,247   89%     │    │
│  │ 🥈    MM_Secondary   $280K      892     76%     │    │
│  │ 🥉    MM_Tertiary    $120K      445     82%     │    │
│  └──────────────────────────────────────────────────┘   │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

### 4. 单个 Agent 详情页

```
┌─────────────────────────────────────────────────────────┐
│  Agent: Alpha_Trader                                    │
│  Type: Trader | Online: ● | Since: 2024-01-15          │
│  ────────────────────────────────────────────────────   │
│                                                         │
│  Stats                                                  │
│  ┌─────────┐  ┌─────────┐  ┌─────────┐  ┌─────────┐   │
│  │ 总 PnL  │  │ 胜率    │  │ 总交易  │  │ 当前仓位│   │
│  │ +$2,450 │  │ 68%     │  │ 127     │  │ 3       │   │
│  └─────────┘  └─────────┘  └─────────┘  └─────────┘   │
│                                                         │
│  ┌─ 当前持仓 ───────────────────────────────────────┐   │
│  │ Market     Side   Size   Entry    PnL            │   │
│  │ BTC-PERP   LONG   $500   $73,200  +$45          │   │
│  │ ETH-PERP   SHORT  $200   $2,180   -$12          │   │
│  └──────────────────────────────────────────────────┘   │
│                                                         │
│  ┌─ 交易历史 ───────────────────────────────────────┐   │
│  │ Time         Market   Side   Size   PnL          │   │
│  │ 10:32:15    BTC      LONG   $300   +$78         │   │
│  │ 09:45:22    ETH      SHORT  $150   -$23         │   │
│  │ ...                                              │   │
│  └──────────────────────────────────────────────────┘   │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

## 🎨 设计风格

- **深色主题** - 专业交易感
- **实时更新** - WebSocket 推送
- **数据密集** - 信息优先于美观
- **响应式** - 支持移动端查看

## 🔧 技术栈

- **Next.js 14** - App Router
- **TailwindCSS** - 样式
- **WebSocket** - 实时数据
- **Recharts** - 图表
- **Framer Motion** - 动画 (轻量)

## 📡 数据源

连接 Trade Router API:
- `GET /markets` - 市场列表
- `GET /requests` - 活跃请求
- `GET /positions/:agent` - Agent 持仓
- `WS /ws` - 实时交易流

## 🚫 不需要的功能

- ❌ 钱包连接 (Agent 用 API 交易)
- ❌ 下单界面 (人类不交易)
- ❌ K 线图 (这不是价格分析工具)
- ❌ 用户登录 (公开观察)

## ✅ 核心功能

1. **实时交易流** - 看 Agent 在干什么
2. **市场概览** - 各币种活跃度
3. **Agent 排行** - 谁赚钱最多
4. **持仓热力图** - 多空分布
5. **MM 报价流** - 报价竞争可视化

---

## 一句话总结

> **这是 Agent 交易生态的直播间，不是交易所**
